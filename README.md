# Ejudge (АиСД) — МГТУ ИУ8 2022

## Отказ от ответственности

**Содержимое репозитории — истина в последней инстанции?**
Нет! Это просто полезные материалы.
Некоторые утверждения могут оказаться устаревшими.
Представленный тестировщик — лишь 
самописный инструмент для автоматизации локального тестирования.
**Он не имеет никакого отношения к тому грейдеру,
что будет проверять ваши решения на сервере**

**То есть я могу просто залить на сервер эти задачи и всё?**
Нет. На сервере ваши посылки прогоняются на грейдере и антиплагиате.
Антиплагиат ищет совпадения со всеми когда-либо проверенными им работами
(в том числе и с данными), а также теми, что можно найти в интернете
(скопировать код с Хабра/англоязычного ресурса не получится).

**Списывать категорически не рекомендуется — решение будет дисквалифицировано,
вы получите штраф по баллам,
а преподаватель может выписать вам дизреспект
и не поставить баллов за модуль вовсе.**
Настоятельно рекомендуется выполнять все задания самостоятельно и
смотреть на решения только если у вас серьезные затруднения

Этот репозиторий создан с целью помочь тогда,
когда у вас продолжительное время не получается
решить задачу и вы не можете понять, в чем проблема

## Инкапсуляция

В большинстве задач 2 и 3 модуля при реализации СД требуется её инкапсулировать.
Несоблюдение инкапсуляции повлечет за собой реджект задания и потерю минимум 2 баллов

**Что означает инкапсуляция?**
Реализация алгоритма таким образом,
чтобы его внутренняя логика не зависела от формата входных и выходных данных.
Ошибкой будет, если:

- **методы структуры что-то печатают**

  Оформление вывода осуществляется в мейне.
  Все взаимодействия с объектом происходят посредством вызова его методов
  (хотя в Python допускается чтение полей)

- **методы структуры возвращают чрезмерное количество значений**

  Возвращение значений,
  "заточенных" под требуемый в конкретной задаче формат вывода, — нарушение инкапсуляции
  > Пример. Метод max() —> (key, index, value)  у min-кучи явно
  > написан с оглядкой на условие задачи

Сначала подумайте, какие у класса должны быть методы и
какие у них должны быть сигнатуры, а только затем смотрите, в каком
формате вам необходимо реализовать вывод в мейне.
**Самой СД должно быть без разницы, что и в каком формате от вас требуют в выводе**

## Задачи

* **Модуль 1**
    * [Сумма (Python)](module-1/a-sum.py)
    * [Дек (C++)](module-1/b-dequeue.cpp)
    * [Зависимости (Python)](module-1/c-dependencies.py)

* **Модуль 2**
    * [Splay-дерево (Python)](module-2/b-splay-tree.py)
    * [Min-куча (Python)](module-2/c-min-heap.py)
    * [Автокоррекция (Python)](module-2/d-autocorrection.py)

* **Модуль 3**
    * [Блок (Python)](module-3/a-block.py)
    * [Фильтр Блума (Python)](module-3/b-bloom.py)
    * [Рюкзак (Python)](module-3/c-knapsack.py)

## Тестирование для Python и C++ (Ubuntu 22.04.1 LTS)

![Screenshot](assets/checker-dequeue.png)

Для тестирования скачайте папку `scripts` и из неё запустите команду
`./check.sh <language-name> <source-code> <tests-folder> [check-mode]`, где

- `<language-name>` — язык вашего решения (`py` — Python, `cpp` — C++)
- `<source-code>` — путь до файла с исходным кодом
- `<tests-folder>` — путь до папки с тестами к заданию.
  В этой папке должны находиться папки `dat` и `ans` с вводом тестов
  и ответами к ним соответственно (см. пример в репозитории)
- `[check-mode]` — *опционально* — режим проверки ответов программы.
  `no` — порядок строк в ответе не будет значим **(специально для задачи C 1 модуля)**
  — по умолчанию порядок играет роль.
  В задаче о приближенном рюкзаке в 3 модуле вывод номеров предметов не важен,
  хотя в правильных ответах к тестам они отсортированы по возрастанию.
  Отсортируйте номера перед выводом и тогда можно будет тестировать решение
  как раньше — без ключа `no`
  ![Screenshot](assets/checker-dependencies-no-mistakes.png)
  ![Screenshot](assets/checker-dependencies-no-correct.png)

Скрипт сам прогонит все тесты в диапазоне `[ 1 ; N ]` (от `1.dat` до `N.dat`),
где `N` — максимальное число в имени файла, соответствующего шаблону `\d+\.dat`,
в папке `<tests-folder>/dat`.
Отсутствие некоторых тестов не будет критичным — они будут проигнорированы

![Screenshot](assets/checker-splay-tree.png)

Судя по всему (не уверен), сервер может принять как ответ с символом новой строки `\n` в
последней строке, так и без него (не на всех задачах).
Перевод строки лучше оставлять.
Представленные задачи успешно проходят локальное тестирование
на представленных тестах в том виде, в котором они были загружены на ежа и одобрены судьями.
Работа скрипта тестировалась на Ubuntu 22.04.1 LTS — нет гарантии,
что будет работать правильно на других дистрибутивах (на Kali есть проблемы)

Если возникают любые вопросы касательно условия задачи и формата вывода — всегда лучше
спросить преподавателя

Если вылетает ошибка количества строк при локальном тестировании — попробуйте добавить/убрать
пустую строку в конце файла `.ans` и попробовать запустить проверку заново

## Система оценивания

На осень 2022 года актуальны следующие правила оценивания модулей на еже:

- За полностью принятый модуль можно получить **от 5 до 20 баллов**
- За **каждое отклонение (реджект)** решения вы теряете **2 балла**
- За сдачу модуля **после обозначенного дедлайна** вы теряете **5 баллов**
  (модуль считается выполненным в срок, если после основного ревью модуля судьями приняты все 3 задачи)
- Если вы потратили на задачу **от 4 до 7 попыток** включительно, вы теряете **2 балла**
- Если вы потратили на задачу **8 и более попыток**, вы теряете **4 балла**
- При **списывании** задачи решение не принимается, и вы теряете **3 балла**
- При **повторном списывании** баллы за модуль **не начисляются**
  (даже если потом вы его полностью сделаете сами)
- Если вы захотели зарефакторить своё решение и отправить повторно посылку при статусе **Ожидает проверки** и:
    * код **прошел тесты** — счетчик попыток **не увеличится**,
      предыдующее пройденное решение будет **проигнорировано**.
      Проверяться будет всегда крайнее решение, которое прошло все тесты
    * код **упал на тестах** — задание останется сданным по прошлой посылке,
      но **счётчик попыток увеличится**, что может сказаться на ваших баллах за модуль

**P.S.: Репозиторий был полезен? Тыкни звёздочку :)**